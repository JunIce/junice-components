# 常见面试题



## React和Vue区别

React和Vue是两种流行的JavaScript框架，它们在前端开发中都有广泛的应用。它们有一些共同点，比如都使用虚拟DOM、轻量级、基于组件的架构等。但是它们也有一些显著的区别。

首先，React是一个库，而Vue是一个框架。这意味着React只关注于视图层，而其他功能需要通过社区支持的第三方库来实现。而Vue则提供了更多的内置功能，比如路由和状态管理等，这些功能由Vue核心团队提供支持。

其次，React采用了函数式编程的思想，鼓励使用不可变的数据和纯函数。它通过setState方法来触发重新渲染，开发者可以手动控制重新渲染的过程。而Vue则允许直接修改状态对象来触发重新渲染，但对于嵌套对象或数组的修改可能不会触发重新渲染，需要使用Vue.set方法或者使用不可变的方式来修改数据。

另外，React使用JSX来创建虚拟DOM，将逻辑和标记混合在一起，而Vue则使用模板来表示标记，将逻辑和标记分离。这使得React在开发体验、调试和代码可读性方面具有优势，而Vue更加传统和简洁。

最后，React拥有庞大的社区和丰富的第三方库，而Vue的社区相对较小，但在不断增长。这意味着React有更多的资源和支持，而Vue更加注重简洁和内置功能。

总的来说，React更加灵活，适合有经验的开发者，而Vue更加注重简单和快速开发，适合初学者和小型项目。选择使用React还是Vue取决于项目的需求和开发团队的经验。


## React和Vue状态管理区别

React和Vue在状态管理方面有一些显著的区别。在React中，通常使用Redux来进行状态管理，而在Vue中，通常使用Vuex。

Redux是一个独立的状态管理库，它通过单一的store来管理整个应用的状态。Redux的核心概念包括store、action和reducer。开发者需要定义action来描述状态的变化，然后编写reducer来处理这些action，最终更新store中的状态。Redux的数据流是单向的，这使得状态管理更加可预测和可维护。

相比之下，Vuex是专门为Vue设计的状态管理库。它也使用单一的store来管理应用的状态，但它与Vue的生态系统更加紧密集成。Vuex包括state、mutation、action和getter等概念。开发者可以通过mutation来修改state，通过action来触发mutation，以及通过getter来获取state的值。Vuex的设计使得状态管理与Vue组件更加紧密地结合在一起，提供了更好的开发体验。


## Redux和Vuex各自的数据流的实现

Redux和Vuex都采用了单向数据流的模式来管理应用的状态。

在Redux中，数据流的实现主要依赖于三个核心概念：store、action和reducer。当应用中的某个组件需要修改状态时，它会派发一个action，描述状态的变化。这个action会被传递给reducer，reducer会根据action的类型来修改store中的状态。这种单向数据流确保了状态的修改是可预测和可维护的。

而在Vuex中，数据流的实现也是基于单一的store。Vuex包括state、mutation、action和getter等概念。当应用中的组件需要修改状态时，它会触发一个action，这个action会提交一个mutation来修改state。mutation是同步的，而action可以是异步的，这使得Vuex可以处理复杂的状态变化逻辑。通过getter，组件可以获取store中的状态，实现了状态的单向流动。

总的来说，Redux和Vuex都通过一系列严格定义的规则来实现单向数据流，确保了状态的可预测性和可维护性。这种模式使得状态管理更加清晰和可控，有助于构建复杂的应用程序。


## react fiber实现原理

React Fiber 是 React 16 中引入的一种新的协调引擎，它的实现原理是为了实现增量渲染和提高渲染的性能。

在 React 之前，更新组件时会阻塞浏览器的主线程，导致用户交互和动画等操作受到影响。React Fiber 的目标是通过引入协调器，使得更新过程可以被中断、恢复和优先级处理，从而更好地利用浏览器的空闲时间，提高渲染的性能和响应性。

React Fiber 的实现原理主要基于以下几个核心概念：

协调器（Reconciler）：负责协调组件的更新和渲染过程。它可以中断和恢复渲染过程，根据优先级调整更新的顺序，以确保对用户交互和动画的响应。

调度器（Scheduler）：负责调度任务的优先级，决定何时执行任务以及何时暂停或中断任务。调度器可以根据任务的优先级来动态调整任务的执行顺序。

Fiber 树：React Fiber 使用一种名为 Fiber 树的数据结构来表示组件树，每个 Fiber 节点对应一个组件。Fiber 节点包含了组件的状态、更新信息以及与其他节点的关系等信息。

增量渲染：React Fiber 实现了增量渲染，即将渲染过程分解为多个小任务单元，通过优先级调度和中断恢复机制，使得浏览器可以在多帧之间分配渲染任务，从而提高渲染的性能和流畅度。

总的来说，React Fiber 的实现原理是通过引入协调器、调度器和 Fiber 树等机制，实现了增量渲染和优先级调度，从而提高了 React 应用的性能和用户体验。

## React Fiber 是如何实现增量渲染

React Fiber 实现增量渲染的方式主要包括以下几个步骤：

任务拆分：将渲染过程拆分为多个小任务单元，每个任务单元代表一个组件或一部分组件的更新工作。

优先级调度：根据任务的优先级来动态调整任务的执行顺序。React Fiber 使用调度器来决定何时执行任务以及何时暂停或中断任务，以确保对用户交互和动画的响应。

中断恢复：引入协调器来实现任务的中断和恢复。如果有更高优先级的任务需要执行，当前任务可以被中断，并在稍后恢复执行。

时间分片：将任务拆分为多个时间片，利用浏览器的空闲时间来逐步完成渲染工作，避免阻塞主线程。

通过这些步骤，React Fiber 实现了增量渲染，使得渲染过程可以更加灵活地响应用户交互和动画，提高了应用的性能和流畅度。

## React Fiber 是如何将渲染过程拆分为多个小任务单元的

React Fiber 将渲染过程拆分为多个小任务单元的方法是通过协调器（Reconciler）和 Fiber 树的结构来实现的。

在 React Fiber 中，每个组件都对应一个 Fiber 节点，这些节点构成了 Fiber 树。Fiber 节点包含了组件的状态、更新信息以及与其他节点的关系等信息。通过这种结构，React Fiber 实现了将渲染过程拆分为多个小任务单元的能力。

当需要进行更新时，React Fiber 会根据组件的更新情况，将更新过程拆分为多个小任务单元，每个任务单元对应一个 Fiber 节点。这些任务单元可以根据优先级进行调度，以确保对用户交互和动画的响应。这种拆分和调度的机制使得 React Fiber 能够更加灵活地处理渲染过程，提高了渲染的性能和响应速度。
